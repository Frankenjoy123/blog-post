---
title: 基于 Redis 的分布式锁
date: 2018/03/29 20:10:36 
categories: 
- 分布式锁
tags: 
- Redis
---

![](https://ws3.sinaimg.cn/large/006tKfTcgy1fpvathnbf6j31kw11xwl3.jpg)

## 前言
分布式锁在分布式应用中使用广泛，想要搞懂一个新事物首先得了解它的由来，这样才能更加的理解甚至可以举一反三。

首先谈到分布式锁自然也就联想到分布式应用。

在我们将应用拆分为分布式应用之前的单机系统中，对一些并发场景读取公共资源时如扣库存，卖车票之类的需求可以简单的使用[同步](http://crossoverjie.top/2018/01/14/Synchronize/)或者是[加锁](http://crossoverjie.top/2018/01/25/ReentrantLock/)就可以实现。

但是应用分布式了之后系统由以前的单进程多线程的程序变为了多进程多线程，这时使用以上的解决方案明显就不够了。


因此业界常用的解决方案通常是借助于一个第三方组件利用它自身的排他性来达到多进程的互斥。如：

- 基于 DB 的唯一索引。
- 基于 ZK 的临时有序节点。
- 基于 Redis 的 `NX EX`。

这里主要基于 Redis 进行讨论。

## 实现



## 使用

我自己有撸了一个简单的实现，并且已经用于了生产，有兴趣的朋友可以开箱使用。

## 单测

## 总结